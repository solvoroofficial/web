<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Support — Solvoro</title>
  <link id="favIcon" rel="icon" href="logo.png">
  <meta name="description" content="Solvoro support — WhatsApp & Email help">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    :root{
      --bg: #f6f7fb;
      --card: #ffffff;
      --muted: #6b7280;
      --accent: #071226;
      --glass: rgba(12,17,23,0.06);
      --shadow: 0 18px 50px rgba(2,6,23,0.10);
      --radius: 14px;
      --ease: cubic-bezier(.2,.9,.3,1);
      --whatsapp-green-1: #25D366;
      --whatsapp-green-2: #128C7E;
      --sidebar-w: 260px; /* same as homepage */
      --safe-top: env(safe-area-inset-top);
      --safe-bottom: env(safe-area-inset-bottom);
    }

    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,var(--bg),#fdfefe);color:var(--accent);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%;height:auto}
    .container{max-width:1200px;margin:0 auto;padding:20px}

    /* Sidebar */
    .sidebar{
      position:fixed; left:0; top:0; bottom:0; width:var(--sidebar-w);
      background:var(--card); padding:20px 16px; box-shadow:var(--shadow);
      display:flex; flex-direction:column; gap:12px; z-index:1200;
      transition: transform 320ms var(--ease);
      will-change: transform;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:52px;height:52px;border-radius:12px;object-fit:contain}
    .brand .title{font-weight:900}
    .brand .sub{font-size:13px;color:var(--muted)}

    nav{flex:1;margin-top:8px;display:flex;flex-direction:column;gap:6px}
    nav a{padding:10px 12px;border-radius:10px;font-weight:800;color:var(--accent);transition:background 200ms var(--ease),transform 200ms var(--ease)}
    nav a:hover{background:var(--glass);transform:translateX(6px)}
    nav a.active{background:var(--accent);color:#fff}

    .demo-wrap{margin-top:auto;display:flex;justify-content:center}
    .demo-btn{
      background: linear-gradient(90deg,var(--whatsapp-green-1),var(--whatsapp-green-2));
      color:#fff;border:0;padding:12px;border-radius:999px;font-weight:900;font-size:14px;
      cursor:pointer;display:inline-flex;align-items:center;gap:10px;justify-content:center;
      box-shadow: 0 10px 30px rgba(18,140,126,0.18);
      transition:none; /* requested: no animation */
    }

    /* Main area */
    .main{margin-left:calc(var(--sidebar-w) + 20px);padding:28px;transition:margin-left 320ms var(--ease)}
    /* center wrapper for content (helps mobile centering) */
    .inner { max-width:980px; margin:0 auto; }

    /* Island (dynamic) */
    .island{
      display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:999px;
      background: linear-gradient(90deg, rgba(255,255,255,0.06), transparent);
      box-shadow: 0 14px 40px rgba(2,6,23,0.06);
      transition: transform 320ms var(--ease);
      position:relative;
      z-index:1150;
    }
    .island .circle{width:52px;height:52px;border-radius:999px;overflow:hidden;background:var(--card);display:flex;align-items:center;justify-content:center}
    .island .circle img{width:44px;height:44px;border-radius:999px;object-fit:cover}
    .island .title{font-weight:900;font-size:16px}
    .island .sub{font-size:13px;color:var(--muted)}

    .float-shape{
      position:absolute; right:8px; top:-14px; width:68px; height:68px; border-radius:18px;
      background: linear-gradient(180deg, rgba(37,211,102,0.07), rgba(18,140,126,0.03));
      box-shadow: 0 12px 36px rgba(18,140,126,0.05);
      pointer-events:none; z-index:1140; filter: blur(0.6px);
    }

    /* Header + typography */
    header{margin-top:18px}
    header h1{margin:0;font-size:28px}
    header .muted{color:var(--muted);margin-top:6px}

    /* Support grid */
    .catalog{margin-top:18px;display:grid;gap:14px;grid-template-columns:repeat(2,1fr)}
    .support-card{
      background:var(--card);padding:18px;border-radius:12px;box-shadow:0 12px 36px rgba(2,6,23,0.06);
      transition: transform 220ms var(--ease);
    }
    .support-card:hover{transform:translateY(-6px)}
    .support-card h2,.support-card h3{margin:0 0 8px 0}
    .support-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .btn{background:var(--accent);color:#fff;border:0;padding:10px 14px;border-radius:10px;font-weight:900;cursor:pointer;display:inline-flex;align-items:center;gap:8px}
    .btn.secondary{background:transparent;color:var(--accent);border:1px solid rgba(0,0,0,0.06)}

    /* form controls */
    .input, textarea { width:100%; padding:12px; border-radius:10px; border:1px solid #eef0f3; background:transparent; font-size:14px; color:var(--accent); }
    textarea{min-height:120px;resize:vertical}

    /* Tips */
    .muted.small{color:var(--muted);font-size:13px}

    /* Mobile overlay + behavior */
    #mobileOverlay{position:fixed;inset:0;background:rgba(0,0,0,0.4);opacity:0;pointer-events:none;transition:opacity 260ms var(--ease);z-index:1190}
    #mobileOverlay.show{opacity:1;pointer-events:auto}

    /* mobile adjustments - center content, hide island logo, shift island only when drawer open */
    @media (max-width:760px){
      .sidebar{ transform: translateX(-320px); } /* initial off-canvas */
      .sidebar.open{ transform: translateX(0); }
      .main{ margin-left:0; padding:18px; }
      .inner{ padding:0 12px; }
      .island .circle{ display:none; } /* hide island logo on mobile */
      .island{ justify-content:center; }
      .catalog{ grid-template-columns: 1fr; }
      .support-row .btn{ width:100%; justify-content:center; }
      /* when drawer open, shift island so it lines up with drawer */
      body.sidebar-open .main .island { transform: translateX(var(--sidebar-w)); }
    }

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){
      :root{ --ease: linear; }
      *{ transition:none !important; animation:none !important; }
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar" aria-label="Main sidebar" aria-hidden="false">
    <div class="brand">
      <img id="sidebarLogo" src="logo.png" alt="Solvoro logo" loading="lazy">
      <div>
        <div class="title">Solvoro</div>
        <div class="sub">Support</div>
      </div>
    </div>

    <nav aria-label="Main navigation">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="products.html">Products</a>
      <a href="support.html" class="active">Support</a>
      <a href="about.html">About</a>
    </nav>

    <div class="demo-wrap">
     <button onclick="window.location.href='https://www.solvoro.online/demo-arena'" class="demo-btn" aria-label="Live demo">Demo Arena</button>
    </div>
  </aside>

  <div id="mobileOverlay"></div>

  <main class="main" id="main">
    <div class="inner">
      <div style="display:flex;align-items:center;justify-content:space-between">
        <div class="island" id="island" aria-label="Site banner">
          <div class="circle" aria-hidden="true"><img id="islandLogo" src="logo.png" alt="logo" loading="lazy"></div>
          <div>
            <div class="title" id="bannerText">Solvoro — Support</div>
            <div class="sub" id="bannerSub">WhatsApp & Email assistance</div>
          </div>
          <div class="float-shape" aria-hidden="true"></div>
        </div>

        <button id="hamburger" aria-label="Open menu" aria-expanded="false" style="display:none;background:transparent;border:0;font-size:22px;cursor:pointer">☰</button>
      </div>

      <header>
        <h1>Need help? We’re here.</h1>
        <div class="muted">Fast responses for orders, downloads and payments. Choose the option that works best for you.</div>
      </header>

      <section class="catalog" aria-live="polite">
        <article class="support-card">
          <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px">
            <div>
              <h2>Chat with support</h2>
              <p class="muted small">Quickest replies via WhatsApp during business hours.</p>
            </div>
            <div class="support-actions">
              <a class="btn" href="https://wa.me/917268889908" target="_blank" rel="noopener">Chat on WhatsApp</a>
            </div>
          </div>

          <div style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap">
            <a class="btn secondary" href="mailto:contact.solvoro@gmail.com">Email support</a>
            <a class="btn secondary" href="mailto:billing@solvoro.com">Billing</a>
          </div>
        </article>

        <article class="support-card">
          <h3>Send us a message</h3>
          <p class="muted small">Include your Order SKU if you have one — it helps us resolve faster.</p>

          <form id="supportForm" style="margin-top:12px" onsubmit="submitSupport(event)">
            <input class="input" id="name" name="name" placeholder="Full name" required style="margin-bottom:10px">
            <input class="input" id="email" name="email" type="email" placeholder="Your email" required style="margin-bottom:10px">
            <input class="input" id="sku" name="sku" placeholder="Order SKU (optional)" style="margin-bottom:10px">
            <textarea class="input" id="message" name="message" placeholder="Describe your issue" required></textarea>

            <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
              <button type="submit" class="btn">Send message</button>
              <button type="button" class="btn secondary" onclick="attachScreenshot()">Attach screenshot</button>
            </div>
          </form>
        </article>

        <article class="support-card">
          <h3>Quick tips</h3>
          <ul class="muted small" style="margin-top:8px;line-height:1.6">
            <li>Provide Order SKU and payment screenshot (if any).</li>
            <li>Check your spam folder for our replies.</li>
            <li>For downloads, confirm your account email matches the order.</li>
          </ul>
        </article>
      </section>

      <footer style="margin-top:24px">
        <div class="muted small">© Solvoro — human-first digital studio</div>
      </footer>
    </div>
  </main>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAPdXACIbpkug9CZkCun08paAz7un9-xjI",
      authDomain: "usss-96c7f.firebaseapp.com",
      projectId: "usss-96c7f",
      storageBucket: "usss-96c7f.firebasestorage.app",
      messagingSenderId: "120676939304",
      appId: "1:120676939304:web:069e4d64eccfeab58e671d"
    };

    let db = null;
    try {
      const app = initializeApp(firebaseConfig);
      db = getFirestore(app);
    } catch (e) {
      console.warn('Firebase init failed (meta will be skipped):', e);
    }

    const $ = s => document.querySelector(s);
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('mobileOverlay');
    const hamburger = document.getElementById('hamburger');
    const demoBtn = document.getElementById('demoBtn');
    const floatShape = document.querySelector('.float-shape');

    // read CSS variable for sidebar width so JS stays in sync with CSS
    function cssSidebarWidth() {
      const raw = getComputedStyle(document.documentElement).getPropertyValue('--sidebar-w') || '260px';
      return parseInt(raw.trim().replace('px','')) || 260;
    }

    function isMobile() { return window.innerWidth <= 760; }

    function syncLayout(){
      if (isMobile()){
        hamburger.style.display = 'block';
        // ensure off-canvas position matches CSS var
        const w = cssSidebarWidth();
        if (!sidebar.classList.contains('open')) sidebar.style.transform = `translateX(-${w}px)`;
      } else {
        hamburger.style.display = 'none';
        sidebar.style.transform = '';
        overlay.classList.remove('show');
        document.body.classList.remove('sidebar-open');
        sidebar.classList.remove('open');
      }
    }
    window.addEventListener('resize', syncLayout);
    syncLayout();

    // focus-trap helper for accessibility
    const focusableSelector = 'a[href], button:not([disabled]), input, textarea, select, [tabindex]:not([tabindex="-1"])';
    let lastFocusedBeforeDrawer = null;
    function trapDrawerFocus(drawer){
      const nodes = Array.from(drawer.querySelectorAll(focusableSelector));
      if (!nodes.length) return ()=>{};
      const first = nodes[0], last = nodes[nodes.length-1];
      function handler(e){
        if (e.key !== 'Tab') return;
        if (e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if (!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      }
      drawer.addEventListener('keydown', handler);
      return ()=> drawer.removeEventListener('keydown', handler);
    }

    function openSidebarAccessible(){
      lastFocusedBeforeDrawer = document.activeElement;
      const w = cssSidebarWidth();
      sidebar.classList.add('open');
      sidebar.style.transform = `translateX(0)`;
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
      document.body.classList.add('sidebar-open');
      document.body.style.overflow = 'hidden';
      hamburger && hamburger.setAttribute('aria-expanded','true');
      // trap focus
      const removeTrap = trapDrawerFocus(sidebar);
      const first = sidebar.querySelector(focusableSelector);
      if (first) first.focus();
      sidebar._removeTrap = removeTrap;
    }
    function closeSidebarAccessible(){
      const w = cssSidebarWidth();
      sidebar.classList.remove('open');
      sidebar.style.transform = `translateX(-${w}px)`;
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
      document.body.classList.remove('sidebar-open');
      document.body.style.overflow = '';
      hamburger && hamburger.setAttribute('aria-expanded','false');
      if (sidebar._removeTrap){ sidebar._removeTrap(); sidebar._removeTrap = null; }
      try { lastFocusedBeforeDrawer && lastFocusedBeforeDrawer.focus(); } catch(e){}
    }

    hamburger.addEventListener('click', ()=> {
      if (sidebar.classList.contains('open')) closeSidebarAccessible(); else openSidebarAccessible();
    });
    overlay.addEventListener('click', closeSidebarAccessible);

    // close drawer on Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && sidebar.classList.contains('open')) closeSidebarAccessible();
    });

    // demo button: no animation per request
    demoBtn.addEventListener('click', ()=> {
      // provide same behavior as other pages: simple action with no animation
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // support form fallback via mailto
    window.submitSupport = function(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const sku = document.getElementById('sku').value.trim();
      const message = document.getElementById('message').value.trim();
      if (!name || !email || !message){ alert('Please complete name, email and message'); return; }
      const subject = encodeURIComponent(`Support request from ${name}${sku ? ' — SKU: ' + sku : ''}`);
      const body = encodeURIComponent(`${message}\n\nName: ${name}\nEmail: ${email}${sku ? '\nOrder SKU: ' + sku : ''}`);
      window.location.href = `mailto:contact.solvoro@gmail.com?subject=${subject}&body=${body}`;
    };

    window.attachScreenshot = function(){
      alert('Attachment UI is not implemented in this demo. Please attach screenshots in your email or send via WhatsApp.');
    };

    // reveal micro-animations (respect reduced motion)
    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches){
      setTimeout(()=> document.querySelectorAll('.reveal').forEach(el => el.classList.add('show')), 120);
    } else {
      document.querySelectorAll('.reveal').forEach(el => el.classList.add('show'));
    }

    // fetch meta and apply to island (optional)
    async function applyMeta(){
      if (!db) return;
      try {
        const snap = await getDoc(doc(db,'meta','site'));
        if (!snap.exists()) return;
        const meta = snap.data();
        if (meta.adminLogo){
          const i = document.getElementById('islandLogo');
          const s = document.getElementById('sidebarLogo');
          if (i) i.src = meta.adminLogo;
          if (s) s.src = meta.adminLogo;
          const fav = document.getElementById('favIcon');
          if (fav) fav.href = meta.adminLogo;
        }
        if (meta.bannerText) document.getElementById('bannerText').textContent = meta.bannerText;
        if (meta.bannerSub) document.getElementById('bannerSub').textContent = meta.bannerSub;
      } catch(e){ /* ignore */ }
    }
    applyMeta();
  </script>
</body>
</html>